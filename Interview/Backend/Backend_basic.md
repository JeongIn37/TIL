# API

서버에서 요청해서 데이터를 가져오는 방법, 즉 서버와 클라이언트 간의 통신 규약


<br>

# REST API

REST API(RESTful API, 레스트풀 API)란 REST 아키텍처의 제약 조건을 준수하는 애플리케이션 프로그래밍 인터페이스를 뜻합니다. REST는 Representational State Transfer의 줄임말입니다.

1. Uniform Interface: 일관성 있는 인터페이스
2. Client-Server 역할 구분
3. Stateless: 모든 요청은 독립적으로 처리되어야 함
4. Cacheable: 캐싱이 가능한 자료를 보내야 함
5. Layered System: 여러 단계(레이어)를 거쳐서 요청을 처리할 수 있음
6. Code on Demand: 고객에게 실제 실행가능한 코드 전송

<br>

# Node.js / MongoDB / express / mongoose 사용 이유
## Node.js
    - Node.js는 JavaScript를 서버에서도 사용할 수 있도록 만든 자바스크립트 런타임(프로그래밍 언어가 구동되는 환경)이다.
    - 빠르고 비동기적 처리가 가능하며 동시성이 지원된다.

## MongoDB
### 장점
    1. Flexibility : Schema-less라서 어떤 형태의 데이터라도 저장할 수 있다.
    2. Performance : Read & Write 성능이 뛰어나다. 캐싱이나 많은 트래픽을 감당할 때 써도 좋다.
    3. Scalability : 애초부터 스케일아웃 구조를 채택해서 쉽게 운용가능하다. Auto sharding 지원
    4. Deep Query ability : 문서지향적 Query Language 를 사용하여 SQL 만큼 강력한 Query 성능을 제공한다.
    5. Conversion / Mapping : JSON형태로 저장이 가능해서 직관적이고 개발이 편리하다.

### 단점    
    1. 정합성이 떨어지므로 트랜잭션이 필요한 경우에는 부적합하다. (ex. 금융, 결제, 회원정보 등)
    
    2. JOIN이 없다. join이 필요없도록 데이터 구조화 필요
    3. memory mapped file으로 파일 엔진 DB이다. 메모리 관리를 OS에게 위임한다. 메모리에 의존적, 메모리 크기가 성능을 좌우한다. 
    4. SQL을 완전히 이전할 수는 없다.
    5 B트리 인덱스를 사용하여 인덱스를 생성하는데, B트리는 크기가 커질수록 새로운 데이터를 입력하거나 삭제할 때 성능이 저하된다. 이런 B트리의 특성 때문에 데이터를 넣어두면 변하지않고 정보를 조회하는 데에 적합하다.

## express
    - NodeJS를 사용하여 쉽게 서버를 구성할 수 있게 만든 클래스와 라이브러리의 집합체

## Mongoose
    
    Node.js와 MongoDB를 위한 ODM(Object Data Mapping) 라이브러리.
    
    ODM을 활용하면 프로그래밍 언어 Object와 MongoDB의 데이터를 Mapping하여 호환성을 만들어내고, 간편한 CRUD를 가능.
    
    필요에 따라 확장 및 변경이 가능한 자체 검증과 타입변환이 가능하며, express와 함께 사용하면 MVC패턴 구현이 용이


<br>

# CRUD
CRUD는 대부분의 컴퓨터 소프트웨어가 가지는 기본적인 데이터 처리 기능인 Create(생성), Read(읽기), Update(갱신), Delete(삭제)를 묶어서 일컫는 말

# MVC (MTV) 패턴

MVC 는 Model, View, Controller의 약자 입니다. 하나의 애플리케이션, 프로젝트를 구성할 때 그 구성요소를 세가지의 역할로 구분한 패턴입니다.

1. **M ( Model / 모델 )**
    
    애플리케이션의 정보, 데이타를 나타냅니다. 데이타베이스, 처음의 정의하는 상수, 초기화값, 변수 등을 뜻합니다. 또한 이러한 DATA, 정보들의 가공을 책임지는 컴포넌트를 말합니다.
    - 모델은 **클라이언트에 노출되지 않습니다.**
    - **연산처리** 및 **DB** 가 주 된 목적입니다.
    - 컨트롤에서 요청이 들어오면 해당 연산처리 후 **정보**를 return 합니다.

2. **V ( View / 뷰 )**
    
    input 텍스트, 체크박스 항목 등과 같은 사용자 인터페이스 요소를 나타냅니다. 다시 말해 데이터 및 객체의 입력, 그리고 보여주는 출력을 담당합니다. 데이타를 기반으로 사용자들이 볼 수 있는 화면입니다.
    - 클라이언트에 나타나는 부분입니다.
    - HTML / CSS / Javascript 등으로 꾸미고 , 움직이고, 표현하는게 가능합니다.
    
    뷰는 사용자에게 보여지는 반드시 필요한 부분입니다. 가공된 정보를 사용자가 보기 쉽게 나타내야하는 곳입니다.
    
3. **C ( Controller / 컨트롤러 )**

    데이터와 사용자인터페이스 요소들을 잇는 다리역할을 합니다.
    
    즉, 사용자가 데이터를 클릭하고, 수정하는 것에 대한 "이벤트"들을 처리하는 부분을 뜻합니다.

    - 사용자의 요청을 받고 응답을 조종합니다.
    - View 요청 --> Model 연산 --> 가공된 데이터 --> View 응답 이 과정이 컨트롤에서 전부 이루어집니다.